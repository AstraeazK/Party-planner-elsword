<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Party Planner</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.all.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-white">
  <header class="relative overflow-hidden text-center py-8 border-b border-pink-500 bg-gray-950 shadow-[0_0_25px_rgba(255,20,147,0.4)]">
    <div class="absolute inset-0 bg-gradient-to-r from-pink-700/20 via-fuchsia-600/20 to-pink-700/20 blur-2xl"></div>
    <!-- Help Button -->
    <button id="help-btn"
      class="fixed top-4 left-4 z-50
            w-10 h-10 rounded-full
            bg-pink-500 text-white
            flex items-center justify-center
            hover:bg-pink-400
            shadow-lg shadow-pink-500/40
            transition">
      <img src="assets/setting.png" class="w-5 h-5" alt="Setting">
    </button>

    <!-- Help Hint Bubble -->
    <div id="help-hint"
      class="fixed top-4 left-16 z-40
            justify-center
            h-10
            px-0
            flex items-center
            overflow-hidden
            rounded-full
            bg-pink-500/70
            text-white text-sm font-semibold
            shadow-lg shadow-pink-500/40
            opacity-0
            pointer-events-none">
      <span id="help-hint-text" class="whitespace-nowrap opacity-0">
        Setting
      </span>

      <!-- Sparkle -->
      <span class="absolute inset-0 rounded-full animate-sparkle"></span>
    </div>
    <!-- Help Modal Overlay -->
    <div id="help-modal"
      class="fixed z-50 hidden
            top-16 left-4">


      <!-- Modal Box -->
      <div class="bg-gray-900 text-white
                  w-[420px] max-w-[90%]
                  rounded-2xl p-5
                  border border-pink-500/40
                  shadow-[0_0_25px_rgba(255,20,147,0.35)]">

        <!-- Header -->
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-bold text-pink-300 justify-center">Setting</h2>
          <button id="help-close"
            class="text-gray-400 hover:text-white text-xl leading-none">‚úï</button>
        </div>

        <div class="space-y-4 text-sm">

          <!-- Controls -->
          <div>
            <h3 class="text-pink-400 font-semibold mb-2">Controls</h3>

            <div class="space-y-2 text-gray-200">

              <!-- Left Click + Hold -->
              <div class="grid grid-cols-[28px_120px_1fr] items-center gap-2">
                <img src="assets/left-click.png" class="w-5 h-5" alt="Left Click">
                <span class="text-gray-300">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ã‡πâ‡∏≤‡∏¢ + ‡∏•‡∏≤‡∏Å</span>
                <span class="text-left">‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏•‡∏á‡∏ä‡πà‡∏≠‡∏á</span>
              </div>

              <!-- Right Click -->
              <div class="grid grid-cols-[28px_120px_1fr] items-center gap-2">
                <img src="assets/right-click.png" class="w-5 h-5" alt="Right Click">
                <span class="text-gray-300">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤</span>
                <span class="text-left">‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß / ‡∏•‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á</span>
              </div>

            </div>
          </div>
          
          <div class="border-b border-pink-500/30 my-1"></div>

          <!-- Row Actions -->
          <div>
            <h3 class="text-pink-400 font-semibold mb-1">Actions</h3>
              <ul class="space-y-2 text-gray-200">
                <li class="grid grid-cols-[28px_90px_1fr] items-center gap-2">
                  <i data-lucide="brush-cleaning"
                    class="w-5 h-5 text-pink-400"></i>
                  <span class="font-semibold text-gray-300">Brush</span>
                  <span class="text-left">‡∏•‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ñ‡∏ß</span>
                </li>

                <li class="grid grid-cols-[28px_90px_1fr] items-center gap-2">
                  <i data-lucide="columns"
                    class="w-5 h-5 text-pink-400"></i>
                  <span class="font-semibold text-gray-300">Compare</span>
                  <span class="text-left">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ö‡∏±‡∏û / ‡∏î‡∏µ‡∏ö‡∏±‡∏ü‡∏Å‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß‡∏≠‡∏∑‡πà‡∏ô</span>
                </li>

                <li class="grid grid-cols-[28px_90px_1fr] items-center gap-2">
                  <i data-lucide="scroll-text"
                    class="w-5 h-5 text-pink-400"></i>
                  <span class="font-semibold text-gray-300">Scroll</span>
                  <span class="text-left">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏û / ‡∏î‡∏µ‡∏ö‡∏±‡∏ü</span>
                </li>
            </ul>
          </div>

          <div class="border-b border-pink-500/30 my-1"></div>
          <h3 class="text-pink-400 font-semibold">Buff</h3>
            <div class="flex items-center gap-3">
              <img src="pics/Chung/Icon_-_Fatal_Phantom.png" class="w-10 h-10"alt="Chung">
              <a href="https://elwiki.net/w/Sharpshooter_Syndrome" target="_blank" rel="noopener noreferrer">
                <img src="assets/Sharpshooter-Syndrome.png" class="w-10 h-10 hover:scale-110 transition duration-200" alt="Sharpshooter Syndrome">
              </a>

              <div class="flex border border-gray-600 rounded-md overflow-hidden text-xs">
                <button class="buffgroup-toggle px-2 py-1 bg-green-600 text-white" data-group-id="sharpshooter_syndrome" data-value="Action Speed ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 18%">
                  Action Speed 18%
                </button>
                <button class="buffgroup-toggle px-2 py-1 bg-gray-700 text-gray-300 hover:bg-gray-600" data-group-id="sharpshooter_syndrome" data-value="Critical 10%">
                  Critical 10%
                </button>
              </div>
            </div>
        </div>
      </div>
    </div>

    <!-- Sparkles -->
    <div class="sparkle top-4 left-1/3"></div>
    <div class="sparkle top-6 right-1/4"></div>
    <div class="sparkle bottom-4 left-1/4"></div>
    <h1 class="relative text-4xl md:text-5xl font-extrabold text-pink-400 glow-text tracking-wide inline-flex items-center justify-center gap-3">
      <span>‡∏à‡∏±‡∏î‡∏ï‡∏µ‡πâ‡∏Å‡∏¥‡∏ô‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏∞‡∏ó‡∏∞</span> ‚ú®
    </h1>

    <p class="relative text-pink-200 mt-2 text-sm md:text-base tracking-wider">
      ‡∏Å‡∏π‡∏Å‡πá‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏π‡∏á‡πà‡∏ß‡∏á‡∏ï‡∏≠‡∏ô‡∏ó‡∏≥‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ
    </p>
  </header>

<!-- Main Content -->
<main class="flex-1 flex flex-col p-4 gap-4 overflow-auto">
    <div id="click-area"></div>
    <div class="flex flex-1 gap-4">

    <!-- Left Main Area -->
    <div class="flex-1 flex flex-col">

      <!-- Top: Party Slots -->
      <div class="party-row bg-gray-800 rounded-lg p-2 flex gap-2 overflow-x-auto mb-4">

      <div id="custom-text-slot"
          class="w-[90px] h-[90px] bg-[#FFE6E6] text-black font-bold text-center p-2 flex items-center justify-center 
          rounded-md cursor-text break-all whitespace-pre-wrap"
          contenteditable="true">Party 1</div>

      <!-- Slot -->
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="0"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="1"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="2"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="3"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="4"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="5"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="6"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="7"></div>
      
        <!-- Icons Container -->
        <div class="ml-auto flex gap-2">
          <!-- Brush Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer clear-btn">
            <i data-lucide="brush-cleaning" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>

          <!-- Compare Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer compare-btn">
            <i data-lucide="columns" 
              class="w-8 h-8 transition-transform active:scale-90"></i>
          </div>

          <!-- Scroll Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer scroll-btn">
            <i data-lucide="scroll-text" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>
        </div>
      </div>

      <!-- Second: Party Slots -->
      <div class="party-row bg-gray-800 rounded-lg p-2 flex gap-2 overflow-x-auto mb-4">

      <!-- Text Box -->
       <div id="custom-text-slot"
          class="w-[90px] h-[90px] bg-[#FFC6C6] text-black font-bold text-center p-2 flex items-center justify-center 
          rounded-md cursor-text break-all whitespace-pre-wrap"
          contenteditable="true">Party 2</div>

      <!-- Slot -->
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="0"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="1"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="2"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="3"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="4"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="5"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="6"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="7"></div>
      
      <!-- Icons Container -->
        <div class="ml-auto flex gap-2">
          <!-- Brush Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer clear-btn">
            <i data-lucide="brush-cleaning" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>

          <!-- Compare Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer compare-btn" title="‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß‡∏≠‡∏∑‡πà‡∏ô">
            <i data-lucide="columns" 
              class="w-8 h-8 transition-transform active:scale-90"></i>
          </div>

          <!-- Scroll Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer scroll-btn">
            <i data-lucide="scroll-text" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>
        </div>
      </div>

      <!-- Third: Party Slots -->
      <div class="party-row bg-gray-800 rounded-lg p-2 flex gap-2 overflow-x-auto mb-4">

      <!-- Text Box -->
      <div id="custom-text-slot"
          class="w-[90px] h-[90px] bg-[#F7B5CA] text-black font-bold text-center p-2 flex items-center justify-center 
          rounded-md cursor-text break-all whitespace-pre-wrap"
          contenteditable="true">Party 3</div>


      <!-- Slot -->
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="0"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="1"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="2"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="3"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="4"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="5"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="6"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="7"></div>
      
      <!-- Icons Container -->
        <div class="ml-auto flex gap-2">
          <!-- Brush Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer clear-btn">
            <i data-lucide="brush-cleaning" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>

          <!-- Compare Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer compare-btn" title="‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß‡∏≠‡∏∑‡πà‡∏ô">
            <i data-lucide="columns" 
              class="w-8 h-8 transition-transform active:scale-90"></i>
          </div>

          <!-- Scroll Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer scroll-btn">
            <i data-lucide="scroll-text" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>
        </div>
      </div>

      <!-- Fourth: Party Slots -->
      <div class="party-row bg-gray-800 rounded-lg p-2 flex gap-2 overflow-x-auto mb-4">

      <!-- Text Box -->
      <div id="custom-text-slot"
          class="w-[90px] h-[90px] bg-[#F0A8D0] text-black font-bold text-center p-2 flex items-center justify-center 
          rounded-md cursor-text break-all whitespace-pre-wrap"
          contenteditable="true">Party 4</div>


      <!-- Slot -->
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="0"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="1"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="2"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="3"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="4"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="5"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="6"></div>
          <div class="w-[90px] h-[90px] bg-gray-700 border-2 flex items-center justify-center" data-slot="7"></div>
      
      <!-- Icons Container -->
        <div class="ml-auto flex gap-2">
          <!-- Brush Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer clear-btn">
            <i data-lucide="brush-cleaning" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>

          <!-- Compare Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer compare-btn" title="‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß‡∏≠‡∏∑‡πà‡∏ô">
            <i data-lucide="columns" 
              class="w-8 h-8 transition-transform active:scale-90"></i>
          </div>

          <!-- Scroll Icon -->
          <div class="w-[90px] h-[90px] bg-gray-800 flex items-center justify-center 
                      text-pink-400 hover:text-pink-300 cursor-pointer scroll-btn">
            <i data-lucide="scroll-text" 
              class="w-10 h-10 transition-transform active:scale-90"></i>
          </div>
        </div>
      </div>

      <!-- Bottom: Characters -->
      <div id="char-filter-buttons" class="flex justify-end gap-2 mb-1">
        <button data-role="all" class="filter-btn bg-pink-600 text-white px-2 py-1 rounded">ALL</button>
        <button data-role="physical" class="filter-btn bg-gray-700 text-white px-2 py-1 rounded">PHY</button>
        <button data-role="magical" class="filter-btn bg-gray-700 text-white px-2 py-1 rounded">MAG</button>
        <button data-role="support" class="filter-btn bg-gray-700 text-white px-2 py-1 rounded">SUP</button>
      </div>


<!-- Bottom: Characters -->
<div id="char-container" class="bg-gray-800 p-1 flex flex-wrap gap-x-1 gap-y-0.5"></div>

    </div>

    <!-- Right Sidebar: Buff / Debuff -->
        <div id="buff-section" 
            class="w-[30rem] h-[75vh] flex-shrink-0 bg-gray-900/70 p-4 rounded-2xl 
                  border border-pink-500/40 shadow-[0_0_15px_rgba(255,20,147,0.25)]
                  overflow-y-auto">

          <h2 class="text-xl font-bold text-pink-300 mb-3 text-center tracking-wide">‚ú® Buff/Debuff ‚ú®</h2>

          <div class="space-y-4">
            <div>
              <h3 class="text-green-400 font-semibold mb-2">üíö Buffs</h3>
              <ul id="buff-list" class="hover:text-green-300 transition list-disc list-inside space-y-1"></ul>
            </div>

            <div>
              <h3 class="text-red-400 font-semibold mb-2">üîª Debuffs</h3>
              <ul id="debuff-list" class="hover:text-red-300 transition list-disc list-inside text-pink-100 space-y-1"></ul>
            </div>

            <div>
              <h3 class="text-yellow-400 font-semibold mb-2">‚ö†Ô∏è Missing Buffs/Debuffs</h3>
              <ul id="missing-buff-list" class="hover:text-yellow-300 transition list-disc list-inside space-y-1"></ul>
            </div>

          </div>
        </div>
  </div>

</main>



  <script type="module">
    import { createIcons, icons } from "https://cdn.jsdelivr.net/npm/lucide@latest/+esm";
    import { calculateMissingBuffs } from "./buffDebuff.js";
    import { pics } from "./pics.js";
    import "./script.js";

    document.addEventListener("DOMContentLoaded", async () => {
      createIcons({ icons });
      const { charData } = await import(`./charData.js?v=${Date.now()}`);
      window.charData = charData; 
    });
  </script>






</body>
</html>
